# Makepad Book UI Zoo

一个基于 Makepad 框架的 UI 组件展示项目，包含了多种交互式 UI 组件和动画效果的演示。

## 项目概述

本项目是一个使用 Rust 和 Makepad 框架开发的桌面应用程序，展示了现代 UI 开发的各种技术和组件。项目包含了自定义动画、键盘事件监听、以及响应式 UI 设计等功能。

## 主要功能

### 1. 基础 UI 组件
- **按钮组件**: 可点击的交互式按钮，支持自定义样式
- **文本输入框**: 支持用户输入的文本组件
- **标签组件**: 用于显示静态文本信息
- **滚动视图**: 支持横向和纵向滚动的容器组件

### 2. 动画效果
- **打字动画** (`TypingAnimation`): 三个弹跳点的动画效果，模拟打字指示器
  - 可控制的动画播放和停止
  - 基于时间的正弦波动画
  - 自定义频率和相位偏移

### 3. 事件处理
- **键盘事件监听**: 使用 `rdev` 库实现全局键盘事件捕获
- **多线程通信**: 通过 `mpsc` 通道在主线程和监听线程间传递消息
- **实时事件响应**: 支持按键按下和释放事件的实时处理

### 4. 自定义渲染
- **动态背景**: 基于位置和时间的动态颜色渲染
- **SDF 图形**: 使用有向距离场(SDF)技术绘制圆形动画
- **着色器编程**: 自定义 GPU 着色器实现复杂视觉效果

## 技术栈

- **语言**: Rust
- **UI 框架**: Makepad
- **事件监听**: rdev
- **并发**: std::thread, std::sync::mpsc
- **构建工具**: Cargo

## 项目结构

```
src/
├── main.rs              # 程序入口点
├── lib.rs               # 库模块声明
├── app.rs               # 主应用模块
├── app_translate.rs     # 翻译应用模块（主要功能实现）
└── typing_animation.rs  # 打字动画组件

resources/
├── Icon_Favorite.svg    # 收藏图标
├── XITSOneText-BoldItalic.ttf  # 字体文件
└── ducky.png           # 图片资源
```

## 核心组件说明

### App 结构体
- 管理整个应用的状态和 UI
- 包含计数器功能和键盘事件接收器
- 实现了 `AppMain` 和 `MatchEvent` 特性

### TypingAnimation 组件
- 自定义 Widget 实现
- 支持动画的开始和停止控制
- 使用 NextFrame 机制实现流畅动画

## 运行要求

- Rust 1.70+
- macOS/Linux/Windows 系统
- 支持 OpenGL 的图形环境

## 构建和运行

```bash
# 克隆项目
git clone <repository-url>
cd makepad_book_ui_zoo

# 构建项目
cargo build

# 运行项目
cargo run
```

## 依赖项

- `makepad-widgets`: Makepad UI 框架组件库
- `rdev`: 跨平台设备事件监听库

## 特性亮点

1. **现代 Rust UI**: 使用最新的 Makepad 框架，展示 Rust 在 GUI 开发中的能力
2. **高性能渲染**: 基于 GPU 的渲染管线，支持复杂的视觉效果
3. **响应式设计**: 灵活的布局系统，适应不同屏幕尺寸
4. **实时交互**: 低延迟的事件处理和动画响应
5. **模块化架构**: 清晰的代码组织和组件分离

## 开发说明

项目使用 Makepad 的 `live_design!` 宏来声明 UI 布局和样式，这种声明式的方式使得 UI 开发更加直观和高效。动画系统基于帧回调机制，确保了流畅的视觉体验。

## 许可证

本项目遵循开源许可证，具体许可证信息请查看 LICENSE 文件。